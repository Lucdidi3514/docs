## PrÃ©requis

<Check>
  **Node.js 18+** installÃ© ([TÃ©lÃ©charger](https://nodejs.org))
</Check>

<Check>
  **npm** ou **yarn** installÃ©
</Check>

<Check>
  **Compte Supabase** crÃ©Ã© ([S'inscrire](https://supabase.com))
</Check>

<Check>
  **Git** installÃ©
</Check>

---

## Installation

<Steps>
  <Step title="Cloner le repository">
    ```bash
    git clone https://github.com/Lucdidi3514/assopedia-v2
    cd kitasso
    ```
  </Step>
  <Step title="Installer les dÃ©pendances">
    ```bash
    npm install
    ```

    **DÃ©pendances principales :**

    - react 18.3.1
    - vite 6.3.5
    - @supabase/supabase-js 2.x
    - react-router-dom 6.x
    - tailwindcss 3.x

    <Tip>
      L'installation prend environ 2-3 minutes
    </Tip>
  </Step>
  <Step title="Configurer Supabase">
    ### CrÃ©er un projet Supabase

    1. Allez sur [supabase.com](https://supabase.com)
    2. CrÃ©ez un nouveau projet
    3. Notez l'URL et la clÃ© API (anon key)

    ### CrÃ©er le fichier `.env`

    ```bash
    # Ã€ la racine du projet
    touch .env
    ```

    Ajoutez ces variables :

    ```bash
    VITE_SUPABASE_URL=https://xxxxx.supabase.co
    VITE_SUPABASE_ANON_KEY=eyJhbG...
    ```

    <Warning>
      Ne commitez JAMAIS le fichier `.env` ! Il est dÃ©jÃ  dans `.gitignore`
    </Warning>
    ### OÃ¹ trouver ces valeurs ?

    Dans votre dashboard Supabase :

    - **Settings** â†’ **API**
    - Copiez **URL** et **anon public** key
  </Step>
  <Step title="Initialiser la base de donnÃ©es">
    ### ExÃ©cuter les migrations

    Les migrations sont dans `supabase/migrations/`. Vous avez 2 options :

    **Option A : Via le Dashboard Supabase** (recommandÃ© pour dÃ©marrer)

    1. Ouvrez **SQL Editor** dans votre dashboard
    2. ExÃ©cutez les migrations dans l'ordre chronologique
    3. Commencez par `20240101000000_initial_schema.sql` (exemple)

    **Option B : Via Supabase CLI** (si installÃ©)

    ```bash
    supabase db push
    ```

    <Info>
      Il y a **43 fichiers de migration** Ã  exÃ©cuter. Le dashboard vous permet de les copier/coller un par un.
    </Info>
    ### CrÃ©er les buckets Storage

    Dans **Storage** du dashboard :

    1. CrÃ©ez un bucket `tool_logos`
       - Public : âœ… Oui
       - File size limit : 2MB
       - Allowed MIME types : `image/*`
    2. CrÃ©ez un bucket `site_assets`
       - Public : âœ… Oui
       - File size limit : 5MB
       - Allowed MIME types : `image/*, video/*`
  </Step>
  <Step title="VÃ©rifier l'installation">
    Testez la connexion Supabase :

    ```bash
    npm run dev
    ```

    L'application devrait dÃ©marrer sur [**http://localhost:5173**](http://localhost:5173)

    **VÃ©rifications :**

    - âœ… Page d'accueil s'affiche
    - âœ… Catalogue d'outils charge (vide au dÃ©but)
    - âœ… Pas d'erreurs console liÃ©es Ã  Supabase
  </Step>
</Steps>

---

## Premier lancement

### AccÃ©der Ã  l'interface

```bash
npm run dev
```

**URLs disponibles :**

- ğŸ  **Home** : http://localhost:5173
- ğŸ” **Admin** : http://localhost:5173/admin
- ğŸ“Š **Quiz** : http://localhost:5173/quiz/diagnostic (si crÃ©Ã©)
- ğŸ” **Compare** : http://localhost:5173/compare

---

## CrÃ©er un compte admin

Par dÃ©faut, Supabase dÃ©sactive les inscriptions publiques. Pour crÃ©er un admin :

### Via Dashboard Supabase

1. Allez dans **Authentication** â†’ **Users**
2. Cliquez sur **Add user** â†’ **Create new user**
3. Entrez :
   - Email : `admin@kitasso.com`
   - Password : `votre_mot_de_passe_securise`
4. Confirmez l'email si nÃ©cessaire

### Se connecter

1. Allez sur http://localhost:5173/admin
2. Vous serez redirigÃ© vers `/login`
3. Entrez vos credentials
4. Vous devriez accÃ©der au dashboard admin

<Tip>
  Une fois connectÃ©, votre session persiste dans localStorage. Pas besoin de se reconnecter Ã  chaque refresh.
</Tip>

---

## Ajouter des donnÃ©es de test

### Option 1 : Manuellement via Admin Dashboard

Une fois connectÃ© en admin :

1. **CrÃ©er des catÃ©gories**
   - Allez dans l'onglet **Tools** du dashboard
   - CrÃ©ez des catÃ©gories (ex: "Communication", "Gestion", "Site Web")
2. **Ajouter des outils**
   - Cliquez sur **\+ Nouvel outil**
   - Remplissez le formulaire
   - Uploadez un logo
   - Assignez une catÃ©gorie
   - Sauvegardez
3. **CrÃ©er un workflow**
   - Allez dans l'onglet **Workflows**
   - Cliquez sur **\+ Nouveau workflow**
   - DÃ©finissez les Ã©tapes
   - Publiez (status = active)

### Option 2 : Via SQL (donnÃ©es de seed)

CrÃ©ez un fichier `seed.sql` :

```sql
-- CatÃ©gories
INSERT INTO categories (name) VALUES
  ('Communication'),
  ('Gestion de projet'),
  ('Site Web'),
  ('Paiements');

-- Outils
INSERT INTO tools (name, description, pricing_tier, category_id, website_url) VALUES
  ('Mailchimp', 'Plateforme email marketing', 'Freemium', 
   (SELECT id FROM categories WHERE name = 'Communication'), 
   'https://mailchimp.com'),
  ('Trello', 'Gestion de projets visuels', 'Freemium',
   (SELECT id FROM categories WHERE name = 'Gestion de projet'),
   'https://trello.com');
```

ExÃ©cutez dans le **SQL Editor** de Supabase.

---

## Structure du projet

Voici l'organisation du code :

```
kitasso/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # ğŸ”Œ API Layer (Supabase abstraction)
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ tools.ts
â”‚   â”‚   â”œâ”€â”€ workflows.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ components/          # ğŸ¨ Composants partagÃ©s
â”‚   â”‚   â”œâ”€â”€ App/
â”‚   â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚
â”‚   â”œâ”€â”€ features/            # ğŸ“¦ Features mÃ©tier
â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ tool-packs/
â”‚   â”‚   â””â”€â”€ quiz/
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/               # ğŸª Custom hooks
â”‚   â”‚   â”œâ”€â”€ useAppData.ts
â”‚   â”‚   â”œâ”€â”€ useFavorites.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                 # ğŸ› ï¸ Utilities
â”‚   â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”‚   â””â”€â”€ auth.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/               # ğŸ“„ Pages (routes)
â”‚   â”‚   â”œâ”€â”€ Admin.tsx
â”‚   â”‚   â”œâ”€â”€ Compare.tsx
â”‚   â”‚   â””â”€â”€ Login.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ types/               # ğŸ“˜ Types TypeScript
â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ utils/               # ğŸ”§ Helpers
â”‚
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/          # ğŸ“Š 43 fichiers SQL
â”‚
â”œâ”€â”€ public/                  # ğŸ–¼ï¸ Assets statiques
â”‚
â”œâ”€â”€ .env                     # ğŸ” Variables d'environnement
â”œâ”€â”€ vite.config.ts           # âš¡ Config Vite
â”œâ”€â”€ tailwind.config.js       # ğŸ¨ Config Tailwind
â””â”€â”€ package.json
```

<Card title="Comprendre l'architecture" icon="sitemap" href="/architecture/overview">
  Documentation complÃ¨te de l'organisation
</Card>

---

## Commandes disponibles

```bash
# DÃ©veloppement
npm run dev              # Lancer le serveur de dev (port 5173)

# Build
npm run build            # Build de production
npm run preview          # Preview du build local

# Quality
npm run lint             # Linter ESLint
npm run typecheck        # VÃ©rification TypeScript

# Tests
npm test                 # Lancer les tests (Vitest)
npm run test:watch       # Tests en mode watch
npm run test:coverage    # Coverage report

# Analyse
npm run analyze          # Analyser la taille du bundle
```

---

## Troubleshooting

### Erreur : "Failed to fetch"

**Cause :** Connexion Supabase Ã©choue

**Solutions :**

1. VÃ©rifiez que `.env` contient les bonnes valeurs
2. VÃ©rifiez que votre projet Supabase est actif
3. Testez la connexion directement :

   ```typescript
   // Dans la console du navigateur
   const { data } = await window.supabase.from('tools').select('*');
   console.log(data);
   ```

### Erreur : "Row Level Security"

**Cause :** Politiques RLS bloquent l'accÃ¨s

**Solution :**

1. VÃ©rifiez que RLS est activÃ© sur toutes les tables
2. VÃ©rifiez que les policies sont crÃ©Ã©es
3. Testez avec un utilisateur authentifiÃ©

### Page admin vide

**Cause :** Pas authentifiÃ© ou session expirÃ©e

**Solution :**

1. Reconnectez-vous via `/login`
2. VÃ©rifiez dans la console : `localStorage.getItem('supabase.auth.token')`
3. Si null, crÃ©ez un nouvel utilisateur admin

### Images ne s'affichent pas

**Cause :** Buckets Storage mal configurÃ©s

**Solution :**

1. VÃ©rifiez que les buckets existent
2. VÃ©rifiez qu'ils sont **publics**
3. Testez l'URL d'une image directement dans le navigateur

---

## Prochaines Ã©tapes

<CardGroup cols={2}>
  <Card title="Explorer l'architecture" icon="sitemap" href="/architecture/overview">
    Comprendre l'organisation du code
  </Card>
  <Card title="CrÃ©er votre premier outil" icon="wrench" href="/features/tools">
    Guide de la feature Tools
  </Card>
  <Card title="API Layer" icon="plug" href="/development/api-layer">
    Utiliser l'abstraction Supabase
  </Card>
  <Card title="Conventions de code" icon="book" href="/development/conventions">
    Standards et bonnes pratiques
  </Card>
</CardGroup>

---

## Support

Besoin d'aide ?

- ğŸ“– **Documentation** : Parcourez les sections ci-dessous
- ğŸ’¬ **GitHub Discussions** : Posez vos questions
- ğŸ› **Issues** : Signalez un bug
- ğŸ“§ **Email** : [contact@lucdidion.lu](mailto:contact@lucdidion.lu)